---
name: migrate-context
description: Migrate existing project to AI Context System while preserving all content
---

# /migrate-context Command

Migrate an existing project with documentation to the AI Context System. This command preserves ALL existing content while organizing it into the standard structure and augmenting with new sections.

## When to Use This Command

- Mature projects with existing documentation
- Projects with docs scattered across root directory
- Projects with artifacts (code reviews, lighthouse reports) in wrong locations
- Converting from other documentation systems
- Want to adopt AI Context System without losing existing work

**Do NOT use if:**
- Project has no documentation (use `/init-context` instead)
- Already using AI Context System

## What This Command Does

1. Scans existing project structure
2. Identifies documentation and artifacts
3. Creates context/ and artifacts/ folder structure
4. Moves existing files to correct locations
5. Augments existing docs with new sections
6. Creates missing documentation
7. Generates .context-config.json
8. Preserves ALL existing content

## Execution Steps

### Step 0: Detect Project Maturity (Auto-Route to Correct Command)

**ACTION:** Check if project is actually new/empty. If yes, suggest /init-context instead.

```bash
echo "üîç Scanning for existing documentation..."
echo ""

# Detect existing documentation files
EXISTING_DOCS=()

# Common documentation files
[ -f "README.md" ] && [ -s "README.md" ] && EXISTING_DOCS+=("README.md")
[ -f "ARCHITECTURE.md" ] && EXISTING_DOCS+=("ARCHITECTURE.md")
[ -f "CONTRIBUTING.md" ] && EXISTING_DOCS+=("CONTRIBUTING.md")
[ -f "docs/architecture.md" ] && EXISTING_DOCS+=("docs/architecture.md")
[ -f "docs/README.md" ] && EXISTING_DOCS+=("docs/README.md")

# Check for docs directory with content
if [ -d "docs/" ] && [ "$(find docs/ -type f -name '*.md' 2>/dev/null | head -1)" ]; then
  EXISTING_DOCS+=("docs/ directory")
fi

# Check for existing architecture/design docs
[ -f "DESIGN.md" ] && EXISTING_DOCS+=("DESIGN.md")
[ -f "PRD.md" ] && EXISTING_DOCS+=("PRD.md")
[ -f "ROADMAP.md" ] && EXISTING_DOCS+=("ROADMAP.md")

# Check for code review or artifact files (common in mature projects)
[ -d "code-reviews/" ] && EXISTING_DOCS+=("code-reviews/")
[ -d "lighthouse/" ] && EXISTING_DOCS+=("lighthouse/")

# If project has <2 docs, it's probably new
if [ ${#EXISTING_DOCS[@]} -lt 2 ]; then
  echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ"
  echo "üîÄ WRONG COMMAND DETECTED"
  echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ"
  echo ""

  if [ ${#EXISTING_DOCS[@]} -eq 0 ]; then
    echo "‚ÑπÔ∏è  No existing documentation detected"
  else
    echo "‚ÑπÔ∏è  Only found: ${EXISTING_DOCS[0]}"
  fi

  echo ""
  echo "This appears to be a NEW project without significant documentation."
  echo "You should use /init-context instead of /migrate-context"
  echo ""
  echo "üìå Difference:"
  echo "   /init-context    - Creates fresh templates (for NEW projects)"
  echo "   /migrate-context - Preserves existing docs (for MATURE projects)"
  echo ""
  echo "Options:"
  echo "  [Y] Switch to /init-context (recommended)"
  echo "  [n] Continue with /migrate-context (unnecessary complexity)"
  echo ""
  read -p "Switch to /init-context? [Y/n] " -r
  echo ""

  if [[ ! $REPLY =~ ^[Nn]$ ]]; then
    echo "‚úÖ Switching to /init-context..."
    echo ""
    # Note: In actual execution, use: claude /init-context
    exit 0
  else
    echo "‚ö†Ô∏è  Continuing with /migrate-context (will work, but adds complexity)"
    echo ""
  fi
else
  echo "‚úÖ Found ${#EXISTING_DOCS[@]} documentation files - migration is appropriate"
  for doc in "${EXISTING_DOCS[@]}"; do
    echo "   üìÑ $doc"
  done
  echo ""
fi
```

**Why this matters:** /migrate-context is complex and designed for projects with existing documentation to preserve. For new projects, /init-context is simpler and faster.

**Threshold:** <2 documentation files triggers the warning (suggests project is too new for migration).

---

### Step 0.5: Verify Working Directory and .claude Location

**CRITICAL:** The `.claude/` directory MUST be in your actual project root, not in a parent container folder.

**Correct structure:**
```
my-project/               ‚Üê Open this in Claude Code
‚îú‚îÄ‚îÄ .claude/              ‚Üê Commands HERE
‚îú‚îÄ‚îÄ context/              ‚Üê Generated by migration
‚îú‚îÄ‚îÄ src/
‚îî‚îÄ‚îÄ package.json
```

**WRONG structure:**
```
parent-folder/
‚îú‚îÄ‚îÄ .claude/              ‚Üê ‚ùå Commands in WRONG place
‚îî‚îÄ‚îÄ my-project/           ‚Üê Open this, but commands won't load
    ‚îú‚îÄ‚îÄ src/
    ‚îî‚îÄ‚îÄ package.json
```

**ACTION:** Check for .claude location issues:

```bash
# Get absolute path to current directory
CURRENT_DIR=$(pwd)
echo "Working directory: $CURRENT_DIR"

# Check if .claude exists in current directory
if [ ! -d "$CURRENT_DIR/.claude" ]; then
  echo "‚ö†Ô∏è  WARNING: No .claude directory in current project root!"
  echo "This migration requires the toolkit (.claude/ and scripts/) to be installed first."
  echo ""
  echo "Install with:"
  echo "  cp -r /path/to/ai-context-system/.claude ."
  echo "  cp -r /path/to/ai-context-system/scripts ."
  echo ""
  read -p "Continue anyway? [y/N] " -n 1 -r
  echo
  if [[ ! $REPLY =~ ^[Yy]$ ]]; then
    exit 1
  fi
fi

# Check parent directories for conflicting .claude
PARENT_CLAUDE=$(find "$CURRENT_DIR/.." -maxdepth 2 -name ".claude" 2>/dev/null | grep -v "$CURRENT_DIR/.claude" || echo "")

if [ -n "$PARENT_CLAUDE" ]; then
  echo ""
  echo "‚ö†Ô∏è  WARNING: Multiple .claude directories detected!"
  echo ""
  echo "Current project: $CURRENT_DIR/.claude"
  echo "Parent folder(s): $PARENT_CLAUDE"
  echo ""
  echo "‚ùå PROBLEM: Claude Code may use the wrong .claude directory"
  echo "This causes commands to be loaded from the parent instead of this project."
  echo ""
  echo "‚úÖ SOLUTION: Only keep .claude in the actual project root"
  echo "Remove .claude from parent folders that aren't projects themselves."
  echo ""
  echo "Recommended action:"
  echo "  1. If parent folder is NOT a project: rm -rf <parent>/.claude"
  echo "  2. If parent folder IS a project: Move this project out of it"
  echo ""
  read -p "Continue anyway? [y/N] " -n 1 -r
  echo
  if [[ ! $REPLY =~ ^[Yy]$ ]]; then
    echo "Cancelled. Please resolve .claude directory conflicts first."
    exit 1
  fi
fi
```

### Step 1: Scan Existing Project

**Identify existing documentation:**
```bash
ls -la
```

Look for:
- **Context docs (root):** CLAUDE.md, PRD.md, DECISIONS.md, KNOWN_ISSUES.md, ARCHITECTURE.md, CODE_STYLE.md, SESSIONS.md, README.md, DEPLOYMENT.md
- **Task files (v1.x legacy):** tasks/, todo.md, next-steps.md (v2.0+ uses STATUS.md instead)
- **Code reviews:** *code-review*.md, *review*.md
- **Lighthouse reports:** lighthouse-*.json
- **Other artifacts:** bundle-analysis/, coverage/, performance reports

**Analyze what exists:**
```
Create inventory:
- ‚úÖ Found: CLAUDE.md (25KB)
- ‚úÖ Found: PRD.md (57KB)
- ‚úÖ Found: DECISIONS.md (16KB)
- ‚úÖ Found: KNOWN_ISSUES.md (11KB)
- ‚ùå Missing: ARCHITECTURE.md
- ‚ùå Missing: CODE_STYLE.md
- ‚ùå Missing: SESSIONS.md
- ‚úÖ Found: tasks/ directory
- ‚úÖ Found: 4 lighthouse reports
- ‚úÖ Found: 3 code review files in tasks/
```

### Step 2: Create Folder Structure

Create the complete AI Context System structure:

```bash
mkdir -p context
mkdir -p artifacts/code-reviews
mkdir -p artifacts/lighthouse
mkdir -p artifacts/performance
mkdir -p artifacts/security
mkdir -p artifacts/bundle-analysis
mkdir -p artifacts/coverage

# Note: context/tasks/ only created if user explicitly wants to preserve legacy task files
# v2.0+ uses STATUS.md instead of tasks/next-steps.md and tasks/todo.md
```

### Step 3: Move Existing Files

**Move documentation to context/:**

```bash
# Core docs (explicit list)
mv CLAUDE.md context/ 2>/dev/null || true
mv PRD.md context/ 2>/dev/null || true
mv DECISIONS.md context/ 2>/dev/null || true
mv KNOWN_ISSUES.md context/ 2>/dev/null || true
mv ARCHITECTURE.md context/ 2>/dev/null || true
mv CODE_STYLE.md context/ 2>/dev/null || true
mv SESSIONS.md context/ 2>/dev/null || true
mv DEPLOYMENT.md context/ 2>/dev/null || true
mv *DEPLOYMENT.md context/ 2>/dev/null || true  # Catches CLOUDFLARE_DEPLOYMENT.md, etc.
mv TROUBLESHOOTING.md context/ 2>/dev/null || true

# Task files (v1.x legacy - only if they exist and user wants to preserve)
# v2.0+ uses STATUS.md instead of tasks/next-steps.md and tasks/todo.md
# Ask user before moving to avoid recreating deprecated structure
if [ -d "tasks" ] && [ -n "$(ls -A tasks/*.md 2>/dev/null)" ]; then
  echo "‚ö†Ô∏è  Found tasks/ directory with .md files"
  echo "v2.0+ uses STATUS.md instead of tasks/next-steps.md and tasks/todo.md"
  read -p "Preserve legacy task files in context/tasks/ for reference? [y/N] " -n 1 -r
  echo
  if [[ $REPLY =~ ^[Yy]$ ]]; then
    mkdir -p context/tasks
    mv tasks/*.md context/tasks/ 2>/dev/null || true
    echo "‚úÖ Legacy task files preserved in context/tasks/"
  else
    echo "‚è≠Ô∏è  Skipping task files (content should be migrated to STATUS.md)"
  fi
fi
```

**Move artifacts to artifacts/:**

```bash
# Code reviews
mv tasks/*code-review*.md artifacts/code-reviews/ 2>/dev/null || true
mv tasks/*review*.md artifacts/code-reviews/ 2>/dev/null || true
mv *code-review*.md artifacts/code-reviews/ 2>/dev/null || true
mv CODE_REVIEW*.md artifacts/code-reviews/ 2>/dev/null || true

# Lighthouse reports
mv lighthouse-*.json artifacts/lighthouse/ 2>/dev/null || true

# Other artifacts
mv bundle-analysis/ artifacts/ 2>/dev/null || true
mv coverage/ artifacts/ 2>/dev/null || true
```

**Clean up empty directories:**
```bash
rmdir tasks 2>/dev/null || true
```

### Step 4: Augment Existing Documentation

For each existing doc, add missing sections from templates while preserving all content.

#### Augment context/CLAUDE.md

This is critical - CLAUDE.md must be properly augmented with new sections.

**Step 1: Read entire CLAUDE.md**
```bash
# Read the file to understand current structure
cat context/CLAUDE.md
```

**Step 2: Check for missing sections:**
- [ ] "Core Development Methodology" section
- [ ] Reference to context/.context-config.json
- [ ] Task file paths use context/tasks/
- [ ] Commands section references correct paths

**Step 3: Add Core Development Methodology section**

Check if "Core Development Methodology" heading exists:
```bash
grep -n "Core Development Methodology" context/CLAUDE.md
```

If NOT found, use Edit tool to add after the "Working with You" section (or after Communication Style/Workflow Preferences):

```markdown
## Core Development Methodology

1. **Plan First:** Read codebase, think through problem, use TodoWrite tool for task tracking
2. **Track Progress:** Create todo items with TodoWrite that can be checked off during work
3. **Verify Plan:** Check in with user before starting implementation
4. **Work Incrementally:** Complete todos one by one, marking complete as you go
5. **Communicate Clearly:** Provide high-level explanation of changes at each step
6. **Simplicity Above All:** Every change should impact minimal code
7. **Document Results:** Update STATUS.md with current state, run /save to capture session
8. **No Lazy Coding:** Always look for root causes, never apply band-aids
9. **Minimal Impact:** Changes affect only necessary code, nothing else
10. **Full Tracing:** Debug by tracing ENTIRE code flow - no assumptions

**When Debugging:**
- Trace through the ENTIRE code flow step by step
- No assumptions - verify what you think you know
- No shortcuts - follow the data from entry to issue
- Use breakpoints or logging at each step
- Check inputs, outputs, and state at every layer
- Document the flow as you trace it
```

**Step 4: Add config reference**

Check if config reference exists:
```bash
grep -n "context/.context-config.json" context/CLAUDE.md
```

If NOT found, use Edit tool to add at the beginning of "Working with You" section (or first preferences section):

```markdown
> **üìã Preferences:** All communication, workflow, and quality preferences are defined in `context/.context-config.json`.
> The settings below are derived from that source of truth.
```

**Step 5: Update task file path references**

Find all task file references:
```bash
grep -n "tasks/todo.md\|tasks/next-steps.md" context/CLAUDE.md
```

For EACH occurrence found, use Edit tool to update the path:

**Example Edit #1:**
```
old_string: "Write a plan to `tasks/todo.md`"
new_string: "Use TodoWrite tool for task tracking"
```

**Example Edit #2:**
```
old_string: "1. Write a plan to `tasks/todo.md`"
new_string: "1. **Plan First:** Read codebase, think through problem, use TodoWrite tool for task tracking"
```

**Example Edit #3:**
```
old_string: "Add review section to todo.md"
new_string: "Update STATUS.md with current state, run /save to capture session"
```

**Process:**
1. Find each occurrence with grep
2. Read surrounding context with Read tool
3. Use Edit tool with exact old_string and new_string
4. Repeat for ALL occurrences (may be 3-5 references)

**CRITICAL:**
- Use Edit tool for EACH occurrence (multiple edits, not one big replacement)
- Copy exact strings including backticks, quotes, punctuation
- Verify each edit completes successfully before next one

#### Augment context/PRD.md

**Add if missing:**
- Progress Log section (at end)
- Session tracking references

**Update structure to match template:**
- Ensure has Executive Summary
- Ensure has Current Status section
- Ensure has Implementation Plan

#### Augment context/DECISIONS.md

**Ensure has:**
- Last Updated date at top
- Table of Contents (if long)
- Proper categorization

**If missing structure, add template header:**

```markdown
# Technical Decisions & Architecture Choices

**Purpose:** Document why we made specific technical choices to inform future decisions and enable perfect session continuity.

**Last Updated:** [DATE]

---
```

#### Augment context/KNOWN_ISSUES.md

**Ensure has proper categorization:**

```markdown
# Known Issues

**Last Updated:** [DATE]

## üî¥ Blocking Issues

[Issues that prevent deployment or critical functionality]

## üü° Non-Critical Issues

[Issues that should be fixed but don't block progress]

## üîµ Limitations & Future Work

[Known limitations and planned improvements]

---
```

**Migrate from old format to new if needed.**

### Step 5: Create Missing Documentation

Create any docs that don't exist from templates:

#### Create context/ARCHITECTURE.md (if missing)

Analyze project structure and generate:

```bash
# Analyze project
ls -la
find src app lib components -type d -maxdepth 2 2>/dev/null
```

Use ARCHITECTURE.template.md to create comprehensive overview.

#### Create context/CODE_STYLE.md (if missing)

Use CODE_STYLE.template.md and fill in:
- Language (from package.json)
- Framework patterns
- Core development principles (from config)

#### Create context/SESSIONS.md (if missing)

Use SESSIONS.template.md and create first entry:

```markdown
# Session History

## Session 1 - Migration to AI Context System
**Date:** [DATE]
**Focus:** Project migration

**Work Completed:**
- Migrated existing documentation to context/ folder
- Moved artifacts to proper locations
- Created missing documentation files
- Established AI Context System structure

**Files Modified:**
- Moved: CLAUDE.md, PRD.md, DECISIONS.md, KNOWN_ISSUES.md ‚Üí context/
- Moved: lighthouse-*.json ‚Üí artifacts/lighthouse/
- Moved: code reviews ‚Üí artifacts/code-reviews/
- Created: ARCHITECTURE.md, CODE_STYLE.md, SESSIONS.md
- Created: .context-config.json

**State at End:**
- AI Context System fully migrated
- All existing content preserved
- Ready to use /save-context for future sessions

---
```

#### Create context/STATUS.md (if missing)

Use STATUS.template.md to create single source of truth for current state.

**Note:** v2.0+ uses STATUS.md instead of tasks/next-steps.md and tasks/todo.md. If migrating from v1.x and user wants to keep legacy task files, preserve them in context/tasks/ for reference only.

### Step 6: Create Configuration

Create `context/.context-config.json`:

```json
{
  "version": "1.7.0",
  "owner": "[Your Name]",
  "project": {
    "name": "[PROJECT_NAME]",
    "type": "[PROJECT_TYPE]",
    "initialized": "[ORIGINAL_DATE if known]",
    "migrated": "[TODAY]"
  },
  "preferences": {
    "documentation": {
      "location": "context/",
      "autoCreate": true,
      "updateFrequency": "every-session",
      "includeTimestamps": true,
      "gitTracking": true,
      "pruneInterval": "monthly"
    },
    "workflow": {
      "requirePlanApproval": true,
      "requirePushApproval": true,
      "preferSimpleChanges": true,
      "noTemporaryFixes": true,
      "fullCodeFlowTracing": true,
      "testBeforeCommit": true,
      "useTodoList": true
    },
    "communication": {
      "summaryStyle": "high-level",
      "verbosity": "concise",
      "includeLineNumbers": true,
      "skipPreamble": true,
      "useEmojis": false,
      "explainComplex": false
    },
    "codeReview": {
      "thoroughnessLevel": "comprehensive",
      "makeNoChanges": true,
      "timeConstraintWarning": true,
      "separateFixSession": true,
      "focusAreas": [
        "simplicity",
        "root-causes",
        "security",
        "performance",
        "testing",
        "accessibility",
        "seo",
        "architecture"
      ]
    },
    "sessionManagement": {
      "autoSaveInterval": null,
      "captureCommandHistory": true,
      "trackFileChanges": true,
      "preserveWIPState": true
    },
    "artifacts": {
      "location": "artifacts/",
      "subdirectories": {
        "lighthouse": "lighthouse/",
        "code_reviews": "code-reviews/",
        "performance": "performance/",
        "security": "security/",
        "bundle_analysis": "bundle-analysis/",
        "coverage": "coverage/"
      },
      "naming": {
        "include_timestamp": true,
        "include_session_number": true,
        "format": "YYYY-MM-DD"
      },
      "git_ignore": false,
      "organization": {
        "keep_root_clean": true,
        "auto_create_dirs": true,
        "archive_old": false
      }
    }
  },
  "migration": {
    "migrated_from": "root directory structure",
    "migration_date": "[TODAY]",
    "preserved_files": [
      "List of files that were moved"
    ]
  }
}
```

### Step 7: Verify Augmentations

Before generating the report, verify all augmentations were completed:

```bash
# Check CLAUDE.md augmentations
echo "Checking CLAUDE.md augmentations..."
grep -q "Core Development Methodology" context/CLAUDE.md && echo "‚úÖ Core Methodology added" || echo "‚ùå MISSING: Core Methodology"
grep -q "context/.context-config.json" context/CLAUDE.md && echo "‚úÖ Config reference added" || echo "‚ùå MISSING: Config reference"
grep -q "context/tasks/todo.md" context/CLAUDE.md && echo "‚úÖ Task paths updated" || echo "‚ùå MISSING: Task path updates"
```

**If any checks fail:**
- Go back to Step 4 and complete the missing augmentations
- Do NOT proceed to report until all augmentations are done
- This is critical for system integrity

### Step 8: Generate Migration Report

Create comprehensive report of what was done:

```markdown
‚úÖ Migration to AI Context System Complete

## Files Moved

### Documentation ‚Üí context/
- CLAUDE.md (augmented with Core Methodology)
- PRD.md (augmented with Progress Log)
- DECISIONS.md (reformatted)
- KNOWN_ISSUES.md (categorized)

### Legacy Task Files (if preserving)
- tasks/next-steps.md ‚Üí context/tasks/next-steps.md (v1.x legacy)
- tasks/todo.md ‚Üí context/tasks/todo.md (v1.x legacy)
- **Note:** v2.0+ uses STATUS.md instead; these preserved for reference only

### Artifacts ‚Üí artifacts/
- lighthouse-homepage.json ‚Üí artifacts/lighthouse/
- lighthouse-article.json ‚Üí artifacts/lighthouse/
- lighthouse-category.json ‚Üí artifacts/lighthouse/
- lighthouse-article-optimized.json ‚Üí artifacts/lighthouse/
- tasks/session-7-code-review.md ‚Üí artifacts/code-reviews/
- tasks/session-8-code-review.md ‚Üí artifacts/code-reviews/
- tasks/session-11-code-review.md ‚Üí artifacts/code-reviews/

## Files Created

- context/ARCHITECTURE.md (new)
- context/CODE_STYLE.md (new)
- context/SESSIONS.md (new, Session 1 entry)
- context/.context-config.json (new)

## Files Augmented

- context/CLAUDE.md:
  - ‚úÖ Added Core Development Methodology section
  - ‚úÖ Added config reference (context/.context-config.json)
  - ‚úÖ Updated task paths (tasks/ ‚Üí context/tasks/)
- context/PRD.md: Added Progress Log structure (if needed)
- context/DECISIONS.md: Added proper formatting (if needed)
- context/KNOWN_ISSUES.md: Added categorization (if needed)

## Structure After Migration (v2.0)

context/
‚îú‚îÄ‚îÄ .context-config.json ‚≠ê new
‚îú‚îÄ‚îÄ CONTEXT.md ‚úèÔ∏è augmented (or CLAUDE.md renamed)
‚îú‚îÄ‚îÄ STATUS.md ‚≠ê new (single source of truth, includes auto-generated Quick Reference section at top)
‚îú‚îÄ‚îÄ DECISIONS.md ‚úèÔ∏è augmented
‚îú‚îÄ‚îÄ SESSIONS.md ‚≠ê new (structured format)
‚îú‚îÄ‚îÄ PRD.md ‚úèÔ∏è augmented (if exists)
‚îú‚îÄ‚îÄ ARCHITECTURE.md ‚≠ê new/‚úèÔ∏è augmented (if exists)
‚îî‚îÄ‚îÄ CODE_STYLE.md ‚≠ê new/‚úèÔ∏è augmented (if exists)

**Note:** v2.0+ eliminates tasks/ directory. STATUS.md replaces next-steps.md and todo.md.
If user wants to preserve legacy task files, they'll be in context/tasks/ for reference only.

artifacts/
‚îú‚îÄ‚îÄ code-reviews/
‚îÇ   ‚îú‚îÄ‚îÄ session-7-code-review.md ‚û°Ô∏è moved
‚îÇ   ‚îú‚îÄ‚îÄ session-8-code-review.md ‚û°Ô∏è moved
‚îÇ   ‚îî‚îÄ‚îÄ session-11-code-review.md ‚û°Ô∏è moved
‚îî‚îÄ‚îÄ lighthouse/
    ‚îú‚îÄ‚îÄ lighthouse-homepage.json ‚û°Ô∏è moved
    ‚îú‚îÄ‚îÄ lighthouse-article.json ‚û°Ô∏è moved
    ‚îú‚îÄ‚îÄ lighthouse-category.json ‚û°Ô∏è moved
    ‚îî‚îÄ‚îÄ lighthouse-article-optimized.json ‚û°Ô∏è moved

## Preserved Content

‚úÖ All 25KB of CLAUDE.md content preserved + augmented
‚úÖ All 57KB of PRD.md content preserved
‚úÖ All 16KB of DECISIONS.md content preserved
‚úÖ All 11KB of KNOWN_ISSUES.md content preserved
‚úÖ All task files preserved
‚úÖ All artifacts preserved

## Next Steps

1. Review context/CLAUDE.md for accuracy
2. Verify context/.context-config.json settings
3. Check new ARCHITECTURE.md and CODE_STYLE.md
4. Run /save-context to capture current state
5. Use AI Context System going forward!

---

**Ready!** Your project is now fully migrated to AI Context System.
All existing content preserved, enhanced with new structure.
```

## Important Guidelines

### Preservation First

**NEVER delete or lose content:**
- Always move, never delete original files
- Augment existing docs, don't replace
- Preserve all sections, add new ones
- Keep exact wording in existing sections

### Smart Augmentation

**When adding sections to existing docs:**
- Read entire file first
- Identify what's missing vs template
- Add missing sections without disrupting existing flow
- Preserve author's voice and style
- Update references (tasks/ ‚Üí context/tasks/)

**What to augment:**
- Add standardized headers/structure
- Add missing categories
- Add cross-references
- Add "Core Development Methodology" if missing
- Add config references

**What NOT to change:**
- Project-specific content
- User's examples and workflows
- Technical decisions already documented
- Existing section names (unless standardizing)

### File Movement Strategy

**Documentation (goes to context/):**
- CLAUDE.md, PRD.md, ARCHITECTURE.md, DECISIONS.md
- CODE_STYLE.md, KNOWN_ISSUES.md, SESSIONS.md
- DEPLOYMENT.md, TROUBLESHOOTING.md
- tasks/next-steps.md, tasks/todo.md

**Artifacts (goes to artifacts/):**
- lighthouse-*.json ‚Üí artifacts/lighthouse/
- *code-review*.md ‚Üí artifacts/code-reviews/
- bundle-analysis/ ‚Üí artifacts/bundle-analysis/
- coverage/ ‚Üí artifacts/coverage/
- performance reports ‚Üí artifacts/performance/
- security scans ‚Üí artifacts/security/

**Leave in root:**
- README.md (stays in root for GitHub)
- package.json, tsconfig.json (project config)
- .gitignore, .env* (project files)

### Config Generation

**Fill in from analysis:**
- project.name: From README or package.json
- project.type: Inferred from structure
- project.initialized: From git log (first commit date)
- migration.preserved_files: Actual list of moved files

### Migration Report

**Be specific:**
- List every file moved with ‚Üí arrows
- Show before/after structure
- Note augmentations with ‚úèÔ∏è
- Note new files with ‚≠ê
- Note moved files with ‚û°Ô∏è

## Error Handling

**If file conflicts:**
- Report which files would conflict
- Ask user how to proceed
- Suggest: rename existing, merge content, skip

**If can't determine structure:**
- Show what was found
- Ask user to clarify
- Provide safe default

**If unsure about file:**
- List in "Unprocessed Files" section
- Ask user where it should go
- Don't move unless confident

## Success Criteria

Migration succeeds when:
- All documentation in context/
- All artifacts in artifacts/
- Existing content 100% preserved
- New sections added to existing docs
- Missing docs created
- .context-config.json exists
- Migration report generated
- Ready to use /save-context

**Perfect migration:**
- Zero content lost
- All files in right place
- Documentation enhanced not replaced
- Clear audit trail of changes
- User can continue work immediately

### Step 9: Cleanup Installation Files

**IMPORTANT:** Remove the installation files that were downloaded from GitHub to keep the project clean.

**ACTION:** Use the Bash tool to remove installation directory:

```bash
# Check if we're in a nested installation (common pattern)
if [ -d "../ai-context-system" ]; then
  echo "üßπ Removing installation files..."
  rm -rf ../ai-context-system
  echo "‚úÖ Installation files removed"
elif [ -d "./ai-context-system" ]; then
  echo "üßπ Removing installation files..."
  rm -rf ./ai-context-system
  echo "‚úÖ Installation files removed"
else
  echo "‚è≠Ô∏è  No installation files found (already clean)"
fi

# Also check for downloaded zip
if [ -f "../ai-context-system.zip" ]; then
  rm -f ../ai-context-system.zip
  echo "‚úÖ Removed installation zip"
fi
```

**What gets removed:**
- `ai-context-system/` directory (GitHub repo contents)
- `ai-context-system.zip` (if exists)

**What gets kept:**
- `.claude/` directory (slash commands)
- `context/` directory (all your documentation)
- `artifacts/` directory (all your reports)
- All project files

**Result:** Clean project without installation artifacts.
